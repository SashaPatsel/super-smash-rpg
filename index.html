<!DOCTYPE html>
<html>
<head>
	<title>Super Smash Bros! (kind of)</title>
	<!-- Reset CSS -->
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
		<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<!-- My Stylesheet -->
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
	<!-- Game's font -->
	<link href="https://fonts.googleapis.com/css?family=Bangers" rel="stylesheet">
</head>
<body>
		<!-- Header div -->
		<h1 class="first-head">Super Smash Bros! <span id="sad-kinda">(kind of)</span></h1>
			<audio class="audio-player" controls autoplay loop> 
	  	<source src="assets/music/Hyrule Castle - Super Smash Bros. Music Extended.mp3">
			</audio>

			<!-- Start over button -->
			<div id="start-over">Start Over</div>
			<!-- Close header div -->

			<!-- Character div -->
			<div class="char-possible">
			<img id="mario" class="character bad-guys" width="10%" height="auto" value=mario src="assets/images/Mario-ssb.png">
			<img id="kirby" class="character bad-guys" width="10%" height="auto" src="assets/images/kirby-ssb.png">
			<img id="dk" class="character bad-guys" width="10%" height="auto" src="assets/images/Donkey-Kong-ssb.png">
			<img id="pika" class="character bad-guys" width="10%" height="auto" src="assets/images/Pikachu-ssb.png">
			</div>
			<!-- Close characer div -->

		<!-- Game data div -->
		<h2 class="char-select">Player 1:</h2>
			<div id="player-one"></div>

		<h2 class="char-select">Your Opponents:</h2>
			<div id="opponents"></div>
	
		<!-- Css animate if you got time -->
		<h2 class="char-select">Melee!</h2>
			<div id="current-opponent"></div>

		<div class="attack">Attack!</div>	

		<h2 class="char-select">Score:</h2>	
			<div id="score-board"></div>
		<!-- close game data div -->
	
	
		<!-- All should be centered for mobile version. Will need to use media queries -->
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!-- <script type="text/javascript" src="assets/javascript/game.js"></script> -->
<script type="text/javascript">
	$(document).ready(function() {


//Global Variables:
var mario = {
		dam: 8,
		hp: 120,
		powerUp: 8,
}

		//Kirby stats
var kirby = {
		dam: 4,
		hp: 180,
		powerUp: 4,
}

		//DK stats
var dk = {
		dam: 10,
		hp: 100,
		powerUp: 10,
}

		//Pikachu stats
var pikachu = {
		dam: 6,
		hp: 145,
		powerUp: 6,
}
var playerStats;
var opponentStats;
var isCharacterChosen;
var hasNotPicked;
var isEnemyChosen;
var mario;
var kirby;
var dk;
var pikachu;


function gameStart() {

		//Gives the value of the object to the image element in html
		$("#mario").val(mario);
		$("#kirby").val(kirby);
		$("#dk").val(dk);
		$("#pika").val(pikachu);

		//
		marioStats = $("#mario").val();
		kirbyStats = $("#kirby").val();
		dkStats = $("#dk").val();
		pikaStats = $("#pika").val();


		playerStats ={};
		opponentStats = {};

		isCharacterChosen = false;
		isEnemyChosen = false;
		isFighting = false;
						for(var m in mario) playerStats[m]=mario[m];
	};

	gameStart();

	$("#start-over").on("click", function() {
		gameStart();
		console.log("reset");
		
	});
	
	
	$(".character").on("click", function() {
			//the return code makes it so that it wont run this click
			// unless it happens before the other booleans become true
			if (isCharacterChosen || isEnemyChosen || isFighting) return;
			//if this has an id of mario push marioStats to playerStats
			$(this).appendTo("#player-one");
			moveThemDown();
			//Assigns character stats to user's player
			if ($(this).is("#mario")) {
				for(var m in mario) playerStats[m]=mario[m];
				console.log("It's a me");
				$(this).removeClass("bad-guys");
			}
			
			else if ($(this).is("#kirby")) {
				for(var k in kirby) playerStats[k]=kirby[k];
				console.log("I can fly")
				$(this).removeClass("bad-guys");
			}	
			
			else if ($(this).is("#dk")) {
				for(var d in dk) playerStats[d]=dk[d];
				console.log("Bananas")
				$(this).removeClass("bad-guys");
			}			

			else if ($(this).is("#pika")) {
				for(var p in pikachu) playerStats[p]=pikachu[p];
				console.log("PEEEEEKKAAAAAAACCCHHUUUU")
				$(this).removeClass("bad-guys");				
			}	

			else { 
				$(".bad-guys")
			}				
			console.log(playerStats);
			isCharacterChosen = true;
	});

// ...



	//Moves non-chosen characters down to opponents section
	function moveThemDown() {
			$(".char-possible").appendTo("#opponents")
			console.log("they bounced");
			$(".character").addClass("bad-guys");
	};


	// Move chosen opponent down to melee
	$(".bad-guys").on("click", function() {
		if (isCharacterChosen || isEnemyChosen || isFighting) return;
			$(this).appendTo("#current-opponent");
			console.log("You picked a foe");

			if ($(this).is("#mario")) {
				for(var m in mario) opponentStats[m]=mario[m];
				console.log("It's a me");
				$(this).addClass("melee-bg");
			}
			
			else if ($(this).is("#kirby")) {
				for(var k in kirby) opponentStats[k]=kirby[k];
				console.log("I can fly")
				$(this).addClass("melee-bg");
			}	
			
			else if ($(this).is("#dk")) {
				for(var d in dk) opponentStats[d]=dk[d];
				console.log("Bananas")
				$(this).addClass("melee-bg");
			}			

			else if ($(this).is("#pika")) {
				for(var p in pikachu) opponentStats[p]=pikachu[p];
				console.log("PEEEEEKKAAAAAAACCCHHUUUU")		
				$(this).addClass("melee-bg");	
			}	
			console.log(opponentStats);
	});

	 // What happens when the attack button is clicked
	 $(".attack").on("click", function() {
	 	// if () return;
	 	opponentStats.hp -= playerStats.dam;
	 	playerStats.dam += playerStats.powerUp;
	 	playerStats.hp -= opponentStats.dam;
	 	console.log("enemy health: " + opponentStats.hp)
	 	console.log("Player damage: " + playerStats.dam)
	 	console.log("Player Health: " + playerStats.hp)
	 	});

	 function playerDam() {

	 } 

});
</script>

</html>